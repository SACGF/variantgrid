/**
 * @license Copyright (c) 2014-2017, Dr. Oleg Kiriljuk, oleg.kiriljuk@ok-soft-gmbh.com
 * Dual licensed under the MIT and GPL licenses
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl-2.0.html
 * Date: 2015-04-06
 * see the answers http://stackoverflow.com/a/8491939/315935
 *             and http://stackoverflow.com/a/29048089/315935
 *             and http://stackoverflow.com/q/29457007/315935
 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.contextmenu-ui","free-jqgrid/grid.base"],function(n){return t(n,e,e.document)}):"object"==typeof module&&module.exports?module.exports=function(e,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(e||window)),require("./jquery.contextmenu-ui"),require("free-jqgrid/grid.base"),t(n,e,e.document),n}:t(jQuery,e,e.document)}("undefined"!=typeof window?window:this,function(e,t,n){"use strict";e.jgrid.extend({createContexMenuFromNavigatorButtons:function(i,r){var o=this,u="menu_"+o[0].id,s=e("<ul>"),a=e("<div>").attr("id",u),l=function(){var e="";return t.getSelection?e=t.getSelection():n.getSelection?e=n.getSelection():n.selection&&(e=n.selection.createRange().text),"string"==typeof e?e:e.toString()};s.appendTo(a),a.appendTo("body"),o.contextMenu(u,{bindings:{},onContextMenu:function(t){var n,i,r=o[0].p,u=e(t.target),s=u.closest("tr.jqgrow").attr("id"),a=u.is(":text:enabled")||u.is("input[type=textarea]:enabled")||u.is("textarea:enabled");return!(!s||a||""!==l())&&(n=e.inArray(s,r.selarrrow),r.selrow!==s&&n<0?o.jqGrid("setSelection",s):r.multiselect&&(i=r.selarrrow[r.selarrrow.length-1],n!==r.selarrrow.length-1&&(r.selarrrow[r.selarrrow.length-1]=s,r.selarrrow[n]=i,r.selrow=s)),!0)},onShowMenu:function(t,n){var u=this,s=n.children("ul").first().empty(),a=null!=e.ui&&"string"==typeof e.ui.version?/^([0-9]+)\.([0-9]+)\.([0-9]+)$/.exec(e.ui.version):[],l=null!=a&&4===a.length&&"1"===a[1]&&a[2]<11;return e(i).find(".navtable .ui-pg-button").filter(function(){return!(e(this).prop("disabled")||e(this).hasClass("ui-state-disabled"))}).each(function(){var t,n,i,r,o,a=e(this).children("div.ui-pg-div").first();1===a.length&&(n=a.children(".ui-pg-button-text").html(),i=a.parent(),""===e.trim(n)&&(n=i.attr("title")),r=""!==this.id&&""!==n?"menuitem_"+this.id:e.jgrid.randId(),o=e("<li>").attr("id",r),(t=a.children("span").not(".ui-pg-button-text").first()).length>0&&(l?o.append(e("<a>").html(n).prepend(t.clone().removeClass("ui-pg-button-icon-over-text").css({float:"left",marginTop:t.hasClass("ui-icon")?"0.25em":"0.125em",marginRight:"0.5em"}))):o.html(n).prepend(t.clone().removeClass("ui-pg-button-icon-over-text").css({float:"left",marginTop:t.first().hasClass("ui-icon")?"0.25em":"0.125em",marginRight:"0.5em"})),a.parent().hasClass("ui-state-active")&&o.find("span").addClass("ui-state-active"),o.find("select,input").length>0&&o.hide(),s.append(o),u.bindings[r]=function(e){return function(){e.click()}}(a)))}),e.jgrid.fullBoolFeedback.call(o,(r||{}).onShowContextMenu,"jqGridShowContextMenu",s,u),n}})}})});
//# sourceMappingURL=jquery.createcontexmenufromnavigatorbuttons.js.map