!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(o){return e(o,t.document)}):"object"==typeof module&&module.exports?module.exports=function(t,o){return t||(t=window),void 0===o&&(o="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(o,t.document),o}:e(jQuery,t.document)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var o,n=0,i=[],s=function(e){try{t(":input:visible",e.w).first().focus()}catch(t){}},r=function(t){s(t)},a=function(e){var n=o[i[i.length-1]],r=!t(e.target).parents(".jqmID"+n.s)[0],a=t(e.target).offset(),d=void 0!==e.pageX?e.pageX:a.left,u=void 0!==e.pageY?e.pageY:a.top,c=function(){var e=!1;return t(".jqmID"+n.s).each(function(){var o=t(this),n=o.offset();if(n.top<=u&&u<=n.top+o.height()&&n.left<=d&&d<=n.left+o.width())return e=!0,!1}),e};return!("mousedown"===e.type||!c())||("mousedown"===e.type&&r&&(c()&&(r=!1),r&&!t(e.target).is(":input")&&s(n)),!r)},d=function(o){t(e)[o]("keypress keydown mousedown",a)},u=function(e,n,i){return e.each(function(){var e=this._jqm;t(n).each(function(){this[i]||(this[i]=[],t(this).click(function(){var t,e,n,i=["jqmShow","jqmHide"];for(t=0;t<i.length;t++){e=i[t];for(n in this[e])this[e].hasOwnProperty(n)&&o[this[e][n]]&&o[this[e][n]].w[e](this)}return!1})),this[i].push(e)})})};t.fn.jqm=function(e){var i={overlay:50,closeoverlay:!1,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:!1,ajaxText:"",target:!1,modal:!1,toTop:!1,onShow:!1,onHide:!1,onLoad:!1};return this.each(function(){if(this._jqm)return o[this._jqm].c=t.extend({},o[this._jqm].c,e),o[this._jqm].c;n++,this._jqm=n,o[n]={c:t.extend(i,t.jqm.params,e),a:!1,w:t(this).addClass("jqmID"+n),s:n},i.trigger&&t(this).jqmAddTrigger(i.trigger)})},t.fn.jqmAddClose=function(t){return u(this,t,"jqmHide")},t.fn.jqmAddTrigger=function(t){return u(this,t,"jqmShow")},t.fn.jqmShow=function(e){return this.each(function(){t.jqm.open(this._jqm,e)})},t.fn.jqmHide=function(e){return this.each(function(){t.jqm.close(this._jqm,e)})},t.jqm={hash:{},open:function(e,n){var s,a,u,c,f,h=o[e],m=h.c,l=h.w.parent().offset(),w="."+m.closeClass,p=parseInt(h.w.css("z-index"),10);return p=p>0?p:3e3,s=t("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":p-1,opacity:m.overlay/100}),!h.a&&(h.t=n,h.a=!0,h.w.css("z-index",p),t(h.w[0].ownerDocument).data("ui-dialog-overlays")&&h.w.addClass("ui-dialog"),m.modal?(i[0]||setTimeout(function(){d("bind")},1),i.push(e)):m.overlay>0?m.closeoverlay&&h.w.jqmAddClose(s):s=!1,h.o=!!s&&s.addClass(m.overlayClass).prependTo("body"),m.ajax?(a=m.target||h.w,u=m.ajax,a="string"==typeof a?t(a,h.w):t(a),u="@"===u.substr(0,1)?t(n).attr(u.substring(1)):u,a.html(m.ajaxText).load(u,function(){m.onLoad&&m.onLoad.call(this,h),w&&h.w.jqmAddClose(t(w,h.w)),r(h)})):w&&h.w.jqmAddClose(t(w,h.w)),m.toTop&&h.o&&(l=h.w.parent().offset(),c=parseFloat(h.w.css("left")||0),f=parseFloat(h.w.css("top")||0),h.w.before('<span id="jqmP'+h.w[0]._jqm+'"></span>').insertAfter(h.o),h.w.css({top:l.top+f,left:l.left+c})),m.onShow?m.onShow(h):h.w.show(),r(h),!1)},close:function(e){var n=o[e];return!!n.a&&(n.a=!1,i[0]&&(i.pop(),i[0]||d("unbind")),n.c.toTop&&n.o&&t("#jqmP"+n.w[0]._jqm).after(n.w).remove(),n.c.onHide?n.c.onHide(n):(n.w.hide(),n.o&&n.o.remove()),!1)},params:{}},o=t.jqm.hash});
//# sourceMappingURL=jqmodal.js.map