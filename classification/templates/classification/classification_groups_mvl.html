{% load classification_tags %}
<br/>
<table style="max-width:1200px">
    <thead>
        <tr style='border-bottom:1px solid gray;border-top:1px solid gray'>
            <th style='padding:8px;text-align:left;border-bottom:1px solid gray'>Lab</th>
            <th style='padding:8px;text-align:left;border-bottom:1px solid gray'>c.hgvs {{ groups.genome_build }}</th>
            <th style='padding:8px;text-align:left;border-bottom:1px solid gray'>Clinical Significance</th>
            <th style='padding:8px;text-align:left;border-bottom:1px solid gray'>Conditions</th>
            <th style='padding:8px;text-align:left;border-bottom:1px solid gray'>Zygosities</th>
            <th style='padding:8px;text-align:left;border-bottom:1px solid gray'>ACMG Latest</th>
            <th style='padding:8px;text-align:left;border-bottom:1px solid gray'>Curated Latest</th>
        </tr>
    </thead>
    <tbody>
    {% for group in groups %}
        <tr {% if forloop.counter0|divisibleby:2 %}style='background-color:#f8f8f8'{% endif %}>
            <td style='padding:8px'>{{ group.lab }}{% if group.count > 1 %} * {{ group.count }} records{% endif %}</td>
            <td style='font-family:monospace;word-break:break-all;padding:8px'>{{ group.c_hgvs }}</td>
            <td style='padding:8px'>{{ group.clinical_significance |ekey:'clinical_significance' }}</td>
            <td style='padding:8px'>{% for condition in group.conditions %}<div>{% condition condition %}</div>{% empty %}-{% endfor %}</td>
            <td style='padding:8px'>{{ group.zygosities | ekey:'zygosity' }}</td>
            <td style='font-family:monospace;padding:8px'>{% for acmg in group.acmg_criteria %}{% if not forloop.first %}, {% endif %}{{ acmg }}{% empty %}-{% endfor %}</td>
            <td style='font-family:monospace;padding:8px'><div style='white-space: nowrap'>{{ group.most_recent_curated.date | date:'Y-m-d' }}</div></td>
        </tr>
    {% endfor %}
    </tbody>
</table>