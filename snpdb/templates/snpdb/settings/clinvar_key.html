{% load js_tags %}
{% load ui_utils %}
<h4>ClinVar Key</h4>
{% labelled label="ClinVar Key Name" %}{{ clinvar_key.id }}{% endlabelled %}
{% labelled label="Org ID" %}{% if clinvar_key.org_id %}<a href="https://www.ncbi.nlm.nih.gov/clinvar/submitters/{{ clinvar_key.org_id }}/">{{ clinvar_key.org_id }}</a>{% endif %}{% endlabelled %}
{% labelled label="Configuration" %}<a href="#clinvar-key-config" class='toggle-link' data-toggle="collapse">Toggle Display</a>{% endlabelled %}
<div id="clinvar-key-config" class="collapse">
    {% labelled label="Used by Labs" %}{% for lab in labs %}{% if not forloop.first %}, {% endif %}{{ lab }}{% endfor %}{% endlabelled %}
    {% labelled label="ClinVar API Key" %}{% if clinvar_key.api_key %}{{ clinvar_key.api_key|slice:"0:4" }}****{% else %}{{ 'error' | severity_icon}} <span class="no-value">NOT PROVIDED</span>{% endif %}{% endlabelled %}
    {% labelled label="Inject ACMG into Description" %}{{ clinvar_key.inject_acmg_description | boolean }}{% endlabelled %}
    {% labelled label="Default Affected Status" %}{{ clinvar_key.get_default_affected_status_display }}{% endlabelled %}
    {% labelled label="Assert Method Configuration" %}{% code_json clinvar_key.assertion_method_lookup %}</div>{% endlabelled %}
</div>